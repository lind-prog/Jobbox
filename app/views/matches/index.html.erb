<div class="container">
  <header class="header">
    <h1 class="title">Job Map</h1>
    <p class="subtitle">Match ton meilleur job !</p>
  </header>

<div class="filter-bar" data-controller="filter">
  <h3>Filtrer par type</h3>
  <div class="filter-options">
    <%= simple_form_for :level, url: user_job_search_matches_path(@user_job_search), method: :get, remote: true, html: { id: "filter-form", data: { filter_target: "form" } } do |f| %>
      <%= f.input :level, collection: ["Légendaire", "Epique", "Rare", "Commun"], as: :check_boxes, input_html: { class: "filter-checkbox", data:{ action: "click->filter#select", filter_target: "field" } } %>
    <% end %>
  </div>
</div>

    <div class="d-flex row map-container">
        <div class="legend col-2">
          <h3>Légende</h3>
          <ul>
            <li><span class="legendary-dot"></span> Légendaire = Match à 100%</li>
            <li><span class="epic-dot"></span> Épique = Match à 90%</li>
            <li><span class="rare-dot"></span> Rare = Match à 70%</li>
            <li><span class="common-dot"></span> Commun = Match à 50%</li>
          </ul>
        </div>

        <div class="map col-7"
          data-controller="map"
          data-map-markers-value="<%= @markers.to_json %>"
          data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
        </div>
    </div>

  <div class="info-box">
    <h2 class="info-title">Conseils pour ta recherche</h2>
    <p class="info-text">Utilise la carte pour découvrir les opportunités les plus proches de chez toi. Zoom pour explorer, clique pour voir les détails des offres.</p>
  </div>

  <footer class="footer">
    <p>© 2024 JobBox. Tous droits réservés.</p>
  </footer>
</div>
